<div class="min-h-screen flex items-center justify-center p-4">
    <form id="edit-car-form" class="form-background p-8 rounded-lg shadow-lg border-2 border-white max-w-lg w-full">
      <h2 class="text-3xl font-bold mb-8 text-center text-green-400">Editar Carro</h2>
  
      <input type="hidden" id="edit-id" />
  
      <!-- Campo Marca (Solo Lectura) -->
      <div class="mb-6">
        <label for="edit-brand" class="block text-lg font-semibold text-white mb-2">Marca del Carro</label>
        <input type="text" id="edit-brand" name="edit-brand" placeholder="Ej. Toyota, Ford" class="w-full p-3 rounded-md text-black focus:bg-white focus:outline-none" readonly>
      </div>
  
      <!-- Campo Modelo -->
      <div class="mb-6">
        <label for="edit-model" class="block text-lg font-semibold text-white mb-2">Modelo del Carro</label>
        <input type="text" id="edit-model" name="edit-model" placeholder="Ej. Corolla, Mustang" class="w-full p-3 rounded-md text-black focus:bg-white focus:outline-none" required>
      </div>
  
      <!-- Campo Año -->
      <div class="mb-6">
        <label for="edit-year" class="block text-lg font-semibold text-white mb-2">Año del Carro</label>
        <input type="number" id="edit-year" name="edit-year" placeholder="Ej. 2020" class="w-full p-3 rounded-md text-black focus:bg-white focus:outline-none" required>
      </div>
  
      <!-- Campo Precio -->
      <div class="mb-6">
        <label for="edit-price" class="block text-lg font-semibold text-white mb-2">Precio</label>
        <input type="number" id="edit-price" name="edit-price" placeholder="Ej. 20000" class="w-full p-3 rounded-md text-black focus:bg-white focus:outline-none" required>
      </div>
  
      <!-- Botones de Acción -->
      <div class="flex justify-end space-x-4">
        <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-md transition-colors duration-300">
          Guardar Cambios
        </button>
        <button type="button" onclick="window.history.back()" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-md transition-colors duration-300">
          Cancelar
        </button>
      </div>
    </form>
  </div>
  
  <script type="module">
    async function editCar(event) {
      event.preventDefault();
  
      const carId = document.getElementById('edit-id').value;
      const model = document.getElementById('edit-model').value;
      const year = document.getElementById('edit-year').value;
      const price = document.getElementById('edit-price').value;
  
      if (!model || !year || !price) {
        alert('Todos los campos son requeridos.');
        return;
      }
  
      const carData = { model, year, price };
  
      try {
        const response = await fetch(`http://localhost:5000/api/cars/${carId}`, {
          method: 'PUT',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(carData),
        });
  
        if (response.ok) {
          alert('Carro editado exitosamente');
          window.location.href = '/'; // Redirigir a otra página después de la edición exitosa
        } else {
          const errorData = await response.json();
          alert('Error al editar el carro: ' + errorData.message);
        }
      } catch (error) {
        alert('Hubo un problema al editar el carro.');
      }
    }
  
    // Asignar el evento de submit al formulario
    document.getElementById('edit-car-form').addEventListener('submit', editCar);
  
    // Aquí podrías cargar los datos del carro desde una API o almacenar en localStorage para completar los campos
    function cargarDatosDelCarro() {
      const car = {
        id: "car-id", // Reemplaza con el ID del carro a editar
        brand: "Toyota",
        model: "Corolla",
        year: 2020,
        price: 15000,
      };
      
      document.getElementById('edit-id').value = car.id;
      document.getElementById('edit-brand').value = car.brand;
      document.getElementById('edit-model').value = car.model;
      document.getElementById('edit-year').value = car.year;
      document.getElementById('edit-price').value = car.price;
    }
  
    // Llamar esta función al cargar la página
    cargarDatosDelCarro();
  </script>
  